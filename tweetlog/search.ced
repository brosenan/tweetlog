'/bootstrap':signature(search(Sen,SearchStr,Time,User,Tweet)::'/cloudlog':pred,annotation:changeMode([Sen::'/bootstrap':number,SearchStr::'/bootstrap':string,Time::'/bootstrap':number,User::user,Tweet::tweet],'/bootstrap':vert)).
'/util':behavior(search(Sen,SearchStr,Time,User,Tweet)::'/cloudlog':pred,!'should succeed for all tweets with tokens in SearchStr', ('/cloudlog':withSimulate([procTweet(user(!alice),100,text(tokenized([word(!hello),word(!world)])))],search(_,!'hello tweetlog',100,user(!alice),Tweet)),'/util':assertEqual(Tweet,text(tokenized([word(!hello),word(!world)])),tweet))).
'/util':behavior(search(Sen,SearchStr,Time,User,Tweet)::'/cloudlog':pred,!'should not succeed if the search term is not in the tweet','/cloudlog':withSimulate([procTweet(user(!alice),100,text(tokenized([word(!hello),word(!world)])))],'/cloudlog':not(search(_,!foo,_,_,_)))).
'/cloudlog':axiom('/cloudlog':rule(sentinel(Sen),annotation:shrink('/cloudlog':clause(search(Sen,SearchStr,Time,User,Tweet),'/cloudlog':conj('/cloudlog':local(('/parsing':parseString('/parsing':tokens(Tokens,tweetCtx),SearchStr),'/bootstrap':listMember(Token,'/parsing':token(tweetCtx),Tokens))),'/cl1':indexed(searchIndexKey(Token),searchIndex(Token,Time,User,Tweet))))))).
